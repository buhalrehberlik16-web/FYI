/* character.css */

/* MODAL OVERLAYS (Tüm ekranı kaplayan karartma) */
#skill-book-screen, #stat-screen, #inventory-screen {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background-color: rgba(0, 0, 0, 0.75); z-index: 3000;
    display: none; justify-content: center; align-items: center;
}
#skill-book-screen:not(.hidden), #stat-screen:not(.hidden), #inventory-screen:not(.hidden) { 
    display: flex !important; 
}

/* ORTAK PENCERE YAPISI */
.stat-window, .skill-book-window, .inventory-window {
    background-color: #2b2b2b;
    border: 3px solid #6b5c3b;
    border-radius: 10px;
    box-shadow: 0 0 30px rgba(0, 0, 0, 0.9);
    padding: 25px;
    color: #c0c0c0;
    position: relative;
    display: flex;
    flex-direction: column;
}

/* X ÇIKIŞ BUTONU (SAĞ ÜST KÖŞE) */
#btn-close-skill-book, #close-stat-screen, #btn-close-inventory {
    position: absolute; 
    top: 12px; 
    right: 12px;
    background: #8b0000; 
    border: 1px solid #ff4d4d; 
    color: #fff;
    width: 30px; 
    height: 30px; 
    cursor: pointer; 
    font-weight: bold;
    display: flex; 
    align-items: center; 
    justify-content: center; 
    z-index: 100;
    box-shadow: 0 2px 5px rgba(0,0,0,0.5);
}

/* ============================================================
   STAT EKRANI (U) - ARKA PLAN VE GRİD SİSTEMİ
   ============================================================ */
.stat-window { 
    width: 480px; 
    background: linear-gradient(180deg, #2b2b2b 0%, #1a1a1a 100%) !important; 
}
.stat-header h2 { margin: 0; color: #f0e68c; font-size: 1.5em; border-bottom: 2px solid #444; padding-bottom: 10px; width: 100%; margin-bottom: 15px;}
.xp-bar-container { position: relative; width: 100%; height: 24px; background-color: #222; border: 1px solid #555; border-radius: 12px; margin-top: 5px; overflow: hidden; box-shadow: inset 0 0 5px #000; }
.xp-bar-fill { height: 100%; width: 0%; background: linear-gradient(90deg, #6a0dad, #9b59b6); box-shadow: 0 0 10px #9b59b6; transition: width 0.4s; }
.xp-bar-text { position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; font-size: 0.85em; font-weight: bold; color: #fff; text-shadow: 1px 1px 2px #000; z-index: 2; }
.combat-stats-row { display: flex; justify-content: space-between; gap: 20px; margin-bottom: 15px; }
.c-stat { flex: 1; background: linear-gradient(145deg, #2b2b2b, #1a1a1a); padding: 15px; border-radius: 6px; border: 1px solid #444; text-align: center; font-weight: bold; }
.stat-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 15px; }
.stat-item { background: #2b2b2b; padding: 10px 15px; border-radius: 6px; display: flex; justify-content: space-between; align-items: center; border: 1px solid #444; }

/* ============================================================
   ENVANTER (I) - YERLEŞİM VE RESİM BOYUTU
   ============================================================ */
.inventory-window { 
    width: 580px; 
    background-color: #1a1a1a; 
}
.inventory-content { display: flex; gap: 30px; justify-content: center; align-items: center; margin-bottom: 20px;}

.char-preview-box { 
    width: 260px; height: 380px; position: relative; 
    border: 1px dashed #555; background: rgba(0,0,0,0.2); 
    display: flex; justify-content: center; align-items: flex-end; overflow: hidden; 
}
#inv-char-img { 
    height: 110%; /* Barbar resmi istediğin büyüklükte */
    width: auto; 
    object-fit: contain; 
    transform: translateY(10px); 
}

.brooch-overlay { position: absolute; top: 3.8cqw; left: 50%; transform: translateX(-50%); display: grid; grid-template-columns: repeat(3, 1fr); gap: 4px; width: 90px; z-index: 10; }
.brooch-slot { width: 26px !important; height: 26px !important; background-color: rgba(0, 0, 0, 0.6); border: 1px solid #6b5c3b; border-radius: 4px; }

/* EKİPMAN DÜZENİ (Sağdaki Slotlar) */
.paper-doll-right { 
    display: flex; 
    flex-direction: column; 
    gap: 15px; 
    align-items: center; 
}
.equip-row { 
    display: flex; 
    gap: 15px; 
    justify-content: center; 
    width: 100%; 
}

.bag-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; padding: 15px; background: #0a0a0a; border: 1px solid #333; margin-top: 20px;}

/* ============================================================
   YETENEK KİTABI (K) - BOYUT VE GRİ SKİLL MANTIĞI
   ============================================================ */
.skill-book-window { 
    width: 780px; /* Büyütüldü */
    height: 740px; /* Büyütüldü */
}

.skill-points-box { 
    background: linear-gradient(145deg, #3e2723, #1b0000); 
    border: 2px solid #f0e68c; padding: 15px; text-align: center; 
    border-radius: 8px; margin-bottom: 20px; color: #fff; font-weight: bold; 
    box-shadow: 0 0 10px rgba(240,230,140,0.3); 
}

.skill-tabs { display: flex; gap: 10px; margin-bottom: 20px; }
.tab-btn { flex: 1; background: #333; border: 1px solid #555; opacity: 0.7; }
.tab-btn.active { background: #5d4a30; border-color: #f0e68c; opacity: 1; box-shadow: 0 0 10px rgba(240,230,140,0.3); }

.skill-list-container { flex-grow: 1; overflow-y: auto; background: #111; padding: 15px; border: 1px inset #333; }

/* ÖĞRENİLMİŞ YETENEK (Renkli) */
.skill-book-item { 
    display: flex; align-items: center; gap: 20px; 
    background: #333; padding: 12px; 
    border: 2px solid #43FF64; /* Öğrenilenler yeşil parlar */
    border-radius: 8px; margin-bottom: 12px; transition: 0.2s; 
}

/* KİLİTLİ YETENEK (Gri) - İSTEDİĞİN ÖZEL MANTIK BURASI */
.skill-book-item.locked { 
    background: #1a1a1a; 
    border: 2px solid #444; /* Kilitliler sönük gri çerçeve */
    opacity: 0.8;
}

.skill-book-item.locked .skill-book-icon { 
    filter: grayscale(100%); /* Sadece kilitliyken gri yapar */
    opacity: 0.5; 
}

.skill-book-item.locked .skill-info h4,
.skill-book-item.locked .skill-info p {
    color: #666 !important; /* Yazılar da solar */
}

/* Yetenek İsimleri (Renkli) */
.skill-info h4 { 
    color: #f0e68c !important; /* Altın sarısı isimler */
    font-size: 1.2em; 
    margin-bottom: 5px; 
    text-shadow: 1px 1px 2px #000; 
}

.skill-book-icon { width: 50px; height: 50px; border: 1px solid #000; border-radius: 4px; flex-shrink: 0; }
#skill-book-equipped-bar { display: flex; justify-content: center; gap: 15px; padding: 15px; background: #222; border: 1px solid #444; border-radius: 8px; margin-top: 15px; }