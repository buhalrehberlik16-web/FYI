/* interactions.css - TAM SÜRÜM */

/* TOWN & CITY KAPSAYICI (ÇİVİ GİBİ SABİT) */
.town-container, .city-container {
    position: absolute; inset: 0; margin: auto;
    aspect-ratio: 16 / 9; max-width: 100%; max-height: 100%;
    width: auto; height: auto; container-type: inline-size;
    box-shadow: 0 0 50px rgba(0,0,0,0.8); z-index: 1;
}
.town-background, .city-background { width: 100%; height: 100%; object-fit: cover; display: block; }

/* BİNA YAZILARI VE KOORDİNATLAR */
.town-building, .city-building { position: absolute; cursor: pointer; width: 0; height: 0; overflow: visible; z-index: 5; }
.town-label-text, .city-label-text {
    position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
    white-space: nowrap; color: #e0d0b0; font-family: 'Georgia', serif; font-weight: 900;
    text-shadow: 2px 2px 0 #000, -1px -1px 0 #000, 1px -1px 0 #000; transition: all 0.3s ease;
    pointer-events: auto;
}

#building-inn { top: 58%; left: 47.3%; }
#building-inn .town-label-text { transform: translate(-50%, -50%) rotate(351deg); }
#building-blacksmith { top: 64.7%; left: 20.7%; }
#building-blacksmith .town-label-text { transform: translate(-50%, -50%) rotate(349deg); }
#building-merchant { top: 61.4%; left: 64.7%; }
#building-merchant .town-label-text { transform: translate(-50%, -50%) rotate(10deg); }
#building-alchemist { top: 36.6%; right: 20.5%; }
#building-stable { top: 64.4%; right: 9.8%; }
#building-stable .town-label-text { transform: translate(-50%, -50%) rotate(10deg); }

/* CITY KOORDİNATLARI */
.city-label-text { background: rgba(0, 0, 0, 0.6); border: 1px solid #ffd700; border-radius: 20px; padding: 5px 15px; }
#city-palace { top: 35%; left: 50%; }
#city-vault { top: 60%; left: 25%; }
#city-arena { top: 65%; right: 25%; }
#city-market { top: 75%; left: 50%; }

/* MACERAYA DÖN BUTONU */
.town-exit-btn {
    position: absolute; bottom: 30px; right: 30px; z-index: 100;
    background: linear-gradient(to bottom, #8b0000, #500000) !important;
    border: 2px solid #ff4d4d !important; color: white !important;
    padding: 12px 30px !important; font-size: 1.1em !important;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.8) !important;
    cursor: pointer; border-radius: 4px; transition: all 0.2s;
}
.town-exit-btn:hover { background: #a00000 !important; transform: scale(1.05); }

/* NPC MODALLARI */
.npc-modal { position: fixed; inset: 0; background-color: rgba(0, 0, 0, 0.85); z-index: 5000; display: none; justify-content: center; align-items: center; }
.npc-modal:not(.hidden) { display: flex; }
.npc-window { width: 1280px; height: 900px; background-size: contain; background-repeat: no-repeat; background-position: center; position: relative; }
.npc-title { position: absolute; width: 100%; text-align: center; color: #3e2723; font-weight: 900; font-size: 1.8em; top: 185px; text-transform: uppercase; }
.npc-actions-left, .npc-actions-right { position: absolute; width: 140px; top: 300px; display: flex; flex-direction: column; gap: 15px; }
.npc-actions-left { left: 300px; } .npc-actions-right { right: 310px; }
.npc-dialogue { position: absolute; bottom: 175px; left: 50%; transform: translateX(-50%); width: 30%; text-align: center; color: #5d4037; font-weight: bold; font-style: italic; }

/* KAMP, ÖDÜL VE EVENT */
.fire-glow-effect { position: absolute; bottom: -20%; left: 20%; width: 60%; height: 60%; background: radial-gradient(circle, rgba(255,69,0,0.6) 0%, rgba(139,0,0,0.2) 60%, transparent 80%); filter: blur(30px); animation: fire-flicker 3s infinite alternate; z-index: 0; pointer-events: none; }
.event-content, .reward-content { max-width: 450px; padding: 40px; background: linear-gradient(135deg, #1a1a1a, #252525); border: 2px solid #9b59b6; border-radius: 10px; box-shadow: 0 0 30px rgba(155, 89, 182, 0.3); }
.reward-content { border-color: gold; box-shadow: 0 0 30px rgba(255, 215, 0, 0.3); }
.reward-item { background: #333; border: 1px solid gold; padding: 15px; cursor: pointer; border-radius: 5px; display: flex; align-items: center; gap: 15px; transition: 0.2s; }